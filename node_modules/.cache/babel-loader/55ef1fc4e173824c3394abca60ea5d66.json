{"ast":null,"code":"var _jsxFileName = \"/home/dopemaster/Desktop/Kuge Gemu/fromGit/Kuge-gemu/src/components/Register/Register.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport './Register.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.closeOnEscapeKeyDown = e => {\n      if ((e.charCode || e.keyCode) === 27) {\n        this.props.onClose();\n      }\n    };\n\n    this.onNameChange = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.onEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.onPasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.onRegnoChange = event => {\n      this.setState({\n        regno: event.target.value\n      });\n    };\n\n    this.onSubmitRegister = () => {\n      //this is where we fetch the register api\n      fetch('http://localhost:3000/register', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: this.state.email,\n          password: this.state.password,\n          name: this.state.name,\n          regno: this.state.regno\n        })\n      }).then(response => response.json()).then(user => {\n        if (user.id) {\n          this.props.signIn(true);\n          this.props.loadUser(user);\n        }\n      }).catch(console.log);\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      name: '',\n      regno: ''\n    };\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('keydown', this.closeOnEscapeKeyDown);\n    return function cleanup() {\n      document.body.removeEventListener('keydown', this.closeOnEscapeKeyDown);\n    };\n  }\n\n  componentDidUpdate() {\n    document.body.addEventListener('keydown', this.closeOnEscapeKeyDown);\n    return function cleanup() {\n      document.body.removeEventListener('keydown', this.closeOnEscapeKeyDown);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(CSSTransition, {\n      in: this.props.show,\n      unmountOnExit: true,\n      timeout: {\n        enter: 0,\n        exit: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: this.props.onClose,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"modal-title\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"username\",\n              name: \"username\",\n              placeholder: \"Username\",\n              onChange: this.onNameChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              name: \"email\",\n              placeholder: \"Email\",\n              onChange: this.onEmailChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\",\n              name: \"password\",\n              placeholder: \"Password\",\n              onChange: this.onPasswordChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"regno\",\n              name: \"regno\",\n              placeholder: \"Registration Number\",\n              onChange: this.onRegnoChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.onSubmitRegister,\n              className: \"button\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), document.getElementById('root'));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/dopemaster/Desktop/Kuge Gemu/fromGit/Kuge-gemu/src/components/Register/Register.js"],"names":["React","Component","ReactDOM","CSSTransition","Register","constructor","props","closeOnEscapeKeyDown","e","charCode","keyCode","onClose","onNameChange","event","setState","name","target","value","onEmailChange","email","onPasswordChange","password","onRegnoChange","regno","onSubmitRegister","fetch","method","headers","body","JSON","stringify","state","then","response","json","user","id","signIn","loadUser","catch","console","log","componentDidMount","document","addEventListener","cleanup","removeEventListener","componentDidUpdate","render","createPortal","show","enter","exit","stopPropagation","getElementById"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport './Register.css';\n\n\nclass Register extends Component {\n\n    constructor(props){\n        super(props);\n        this.state={\n            email: '',\n            password: '',\n            name: '',\n            regno: ''\n        }\n    }\n    \n    closeOnEscapeKeyDown = (e) => {\n        if((e.charCode || e.keyCode) === 27){\n            this.props.onClose();\n        }\n    }\n\n    componentDidMount() {\n        document.body.addEventListener('keydown', this.closeOnEscapeKeyDown);\n        return function cleanup() {\n            document.body.removeEventListener('keydown', this.closeOnEscapeKeyDown);\n        }\n    }\n    componentDidUpdate() {\n        document.body.addEventListener('keydown', this.closeOnEscapeKeyDown);\n        return function cleanup() {\n            document.body.removeEventListener('keydown', this.closeOnEscapeKeyDown);\n        }\n    }\n\n    onNameChange = (event) => {\n        this.setState({name: event.target.value});\n    }\n\n    onEmailChange = (event) => {\n        this.setState({email: event.target.value});\n    }\n\n    onPasswordChange =(event) => {\n        this.setState({password: event.target.value});\n    }\n\n    onRegnoChange = (event) => {\n        this.setState({regno: event.target.value});\n    }\n\n    onSubmitRegister = () => {\n        //this is where we fetch the register api\n        fetch('http://localhost:3000/register', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                email: this.state.email,\n                password: this.state.password,\n                name: this.state.name,\n                regno: this.state.regno\n            })\n        })\n        .then(response => response.json())\n        .then(user => {\n            if(user.id){\n                this.props.signIn(true);\n                this.props.loadUser(user);\n            }\n        })\n        .catch(console.log)\n\n    }\n\n    render() {\n        return ReactDOM.createPortal(\n            <CSSTransition\n            in={this.props.show}\n            unmountOnExit\n            timeout={{enter: 0, exit: 300}}\n            >\n                <div className='modal' onClick={this.props.onClose}>\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n                        <div className=\"modal-header\">\n                            <h4 className=\"modal-title\">Register</h4>\n                        </div>\n                        <div className=\"modal-body\">\n                            <input \n                            type=\"text\"\n                            id=\"username\"\n                            name=\"username\" \n                            placeholder=\"Username\"\n                            onChange={this.onNameChange}\n                            />\n\n                            <input \n                            type=\"email\" \n                            id=\"email\" \n                            name=\"email\" \n                            placeholder=\"Email\"\n                            onChange={this.onEmailChange}\n                            />\n\n                            <input \n                            type=\"password\" \n                            id=\"password\" \n                            name=\"password\" \n                            placeholder=\"Password\"\n                            onChange={this.onPasswordChange}\n                            />\n\n                            <input \n                            type=\"text\" \n                            id=\"regno\" \n                            name=\"regno\" \n                            placeholder=\"Registration Number\"\n                            onChange={this.onRegnoChange}\n                            />\n\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button onClick={this.onSubmitRegister} className=\"button\">Register</button>\n                        </div>\n                    </div>\n                </div>\n            </CSSTransition>,\n            document.getElementById('root')\n        )\n    }\n    \n}\nexport default Register;"]},"metadata":{},"sourceType":"module"}