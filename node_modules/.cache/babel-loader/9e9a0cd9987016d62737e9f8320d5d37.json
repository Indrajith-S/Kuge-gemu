{"ast":null,"code":"var _jsxFileName = \"/home/dopemaster/Desktop/Kuge Gemu/fromGit/Kuge-gemu/src/components/Signin/Signin.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport './Signin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Signin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.closeOnEscapeKeyDown = e => {\n      if ((e.charCode || e.keyCode) === 27) {\n        this.props.onClose();\n      }\n    };\n\n    this.onEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.onPasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.onSubmitLogin = () => {\n      //this is where we fetch the register api\n      fetch('http://localhost:3000/signin', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: this.state.email,\n          password: this.state.password\n        })\n      }).then(response => response.json()).then(user => {\n        if (user.id) {\n          this.props.signIn(true);\n          this.props.loadUser(user);\n        }\n      }).catch(console.log);\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('keydown', this.closeOnEscapeKeyDown);\n    return function cleanup() {\n      document.body.removeEventListener('keydown', this.closeOnEscapeKeyDown);\n    };\n  }\n\n  componentDidUpdate() {\n    document.body.addEventListener('keydown', this.closeOnEscapeKeyDown);\n    return function cleanup() {\n      document.body.removeEventListener('keydown', this.closeOnEscapeKeyDown);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(CSSTransition, {\n      in: this.props.show,\n      unmountOnExit: true,\n      timeout: {\n        enter: 0,\n        exit: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: this.props.onClose,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"modal-title\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              name: \"email\",\n              placeholder: \"Email\",\n              onChange: this.onEmailChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\",\n              name: \"password\",\n              placeholder: \"Password\",\n              onChange: this.onPasswordChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.onSubmitLogin,\n              className: \"button\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), document.getElementById('root'));\n  }\n\n}\n\nexport default Signin;","map":{"version":3,"sources":["/home/dopemaster/Desktop/Kuge Gemu/fromGit/Kuge-gemu/src/components/Signin/Signin.js"],"names":["React","Component","ReactDOM","CSSTransition","Signin","constructor","props","closeOnEscapeKeyDown","e","charCode","keyCode","onClose","onEmailChange","event","setState","email","target","value","onPasswordChange","password","onSubmitLogin","fetch","method","headers","body","JSON","stringify","state","then","response","json","user","id","signIn","loadUser","catch","console","log","componentDidMount","document","addEventListener","cleanup","removeEventListener","componentDidUpdate","render","createPortal","show","enter","exit","stopPropagation","getElementById"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport './Signin.css';\n\n\nclass Signin extends Component {\n\n    constructor(props){\n        super(props);\n        this.state={\n            email: '',\n            password: ''\n        }\n    }\n    \n    closeOnEscapeKeyDown = (e) => {\n        if((e.charCode || e.keyCode) === 27){\n            this.props.onClose();\n        }\n    }\n\n    componentDidMount() {\n        document.body.addEventListener('keydown', this.closeOnEscapeKeyDown);\n        return function cleanup() {\n            document.body.removeEventListener('keydown', this.closeOnEscapeKeyDown);\n        }\n    }\n    componentDidUpdate() {\n        document.body.addEventListener('keydown', this.closeOnEscapeKeyDown);\n        return function cleanup() {\n            document.body.removeEventListener('keydown', this.closeOnEscapeKeyDown);\n        }\n    }\n\n    onEmailChange = (event) => {\n        this.setState({email: event.target.value});\n    }\n\n    onPasswordChange = (event) => {\n        this.setState({password: event.target.value});\n    }\n\n    onSubmitLogin = () => {\n        //this is where we fetch the register api\n        fetch('http://localhost:3000/signin', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                email: this.state.email,\n                password: this.state.password\n            })\n        })\n        .then(response => response.json())\n        .then(user => {\n            if(user.id){\n                this.props.signIn(true);\n                this.props.loadUser(user);\n            }\n        })\n        .catch(console.log)\n\n    }\n\n    render() {\n        return ReactDOM.createPortal(\n            <CSSTransition\n            in={this.props.show}\n            unmountOnExit\n            timeout={{enter: 0, exit: 300}}\n            >\n                <div className='modal' onClick={this.props.onClose}>\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n                        <div className=\"modal-header\">\n                            <h4 className=\"modal-title\">Login</h4>\n                        </div>\n                        <div className=\"modal-body\">\n                           <input \n                            type=\"email\" \n                            id=\"email\" \n                            name=\"email\" \n                            placeholder=\"Email\"\n                            onChange={this.onEmailChange}\n                            />\n\n                            <input \n                            type=\"password\" \n                            id=\"password\" \n                            name=\"password\" \n                            placeholder=\"Password\"\n                            onChange={this.onPasswordChange}\n                            />\n\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button onClick={this.onSubmitLogin} className=\"button\">Login</button>\n                        </div>\n                    </div>\n                </div>\n            </CSSTransition>,\n            document.getElementById('root')\n        )\n    }\n    \n}\nexport default Signin;"]},"metadata":{},"sourceType":"module"}